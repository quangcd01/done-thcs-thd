<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin ¬∑ CRUD S·∫£n ph·∫©m</title>

  <!-- Font + d√πng l·∫°i CSS admin n·∫øu b·∫°n ƒë√£ t√°ch -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="./admin.css">
  <link rel="stylesheet" href="./admin-products.css">
</head>

<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand"><span class="dot"></span><span>Admin Panel</span></div>
      <nav class="nav">
        <a href="admin.html">üë§ Qu·∫£n l√Ω t√†i kho·∫£n</a>
        <a class="active" href="admin-products.html">üì¶ S·∫£n ph·∫©m</a>
        <a href="dashboard.html">üìä Dashboard</a>
        <a href="index.html">üè† Trang ch·ªß</a>
      </nav>
    </aside>

    <main class="main">
      <div class="topbar">
        <div>
          <h1>CRUD S·∫£n ph·∫©m</h1>
          <div class="sub">Realtime Database ‚Ä¢ <span id="lastUpdated">--</span></div>
        </div>
        <div class="actions">
          <div class="input">üîé
            <input id="searchInput" placeholder="T√¨m theo t√™n / danh m·ª•c..." />
          </div>
          <button class="btn" id="btnClear">Xo√° l·ªçc</button>
          <button class="btn primary" id="btnReload">L√†m m·ªõi</button>
        </div>
      </div>

      <section class="grid" style="grid-template-columns: repeat(2, minmax(0,1fr));">
        <div class="card">
          <div class="label">T·ªïng s·∫£n ph·∫©m</div>
          <div class="value" id="kpiTotal">0</div>
        </div>
        <div class="card">
          <div class="label">ƒêang hi·ªÉn th·ªã</div>
          <div class="value" id="kpiShown">0</div>
        </div>
      </section>

      <!-- Form -->
      <section class="panel panel-pad" style="margin-top:14px;">
        <div class="panel-title">Th√™m / S·ª≠a s·∫£n ph·∫©m</div>

        <input type="hidden" id="productId" />

        <div class="two-col">
          <div class="field">
            <label>T√™n s·∫£n ph·∫©m *</label>
            <input id="name" placeholder="V√≠ d·ª•: B√°nh ch∆∞ng" />
          </div>

          <div class="field">
            <label>Gi√° (VNƒê) *</label>
            <input id="price" type="number" placeholder="120000" />
          </div>

          <div class="field">
            <label>Danh m·ª•c</label>
            <input id="category" placeholder="V√≠ d·ª•: ƒê·ªì ƒÉn" />
          </div>

          <div class="field">
            <label>T·ªìn kho</label>
            <input id="stock" type="number" placeholder="10" />
          </div>

          <div class="field">
            <label>Tr·∫°ng th√°i</label>
            <select id="status">
              <option value="active">ƒêang b√°n</option>
              <option value="inactive">T·∫°m ·∫©n</option>
            </select>
          </div>

          <div class="field">
            <label>·∫¢nh s·∫£n ph·∫©m (ch·ªçn t·ª´ m√°y) *</label>
            <input id="imageFile" type="file" accept="image/*" />
            <div class="hint">·∫¢nh s·∫Ω ƒë∆∞·ª£c n√©n & l∆∞u v√†o Realtime DB (kh√¥ng d√πng Storage).</div>
          </div>
        </div>

        <div class="field" style="margin-top:12px;">
          <label>Xem tr∆∞·ªõc ·∫£nh</label>
          <img id="imagePreview" class="preview" alt="preview" />
          <div class="hint" id="imageInfo">Ch∆∞a ch·ªçn ·∫£nh</div>
        </div>

        <div class="field" style="margin-top:12px;">
          <label>M√¥ t·∫£</label>
          <textarea id="description" placeholder="M√¥ t·∫£ ng·∫Øn..."></textarea>
        </div>

        <div class="form-actions">
          <button class="btn" id="btnReset">Reset</button>
          <button class="btn primary" id="btnSave">L∆∞u s·∫£n ph·∫©m</button>
        </div>
      </section>

      <!-- Table -->
      <section class="panel" style="margin-top:14px;">
        <table>
          <thead>
            <tr>
              <th style="width:42px;">#</th>
              <th>S·∫£n ph·∫©m</th>
              <th>Danh m·ª•c</th>
              <th>Gi√°</th>
              <th>T·ªìn</th>
              <th>Tr·∫°ng th√°i</th>
              <th style="width:170px;">Thao t√°c</th>
            </tr>
          </thead>
          <tbody id="productsTbody"></tbody>
        </table>
      </section>
    </main>
  </div>

  <!-- Firebase v8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

  <!-- init config t√°ch ri√™ng -->
  <script src="./firebase-init.js"></script>

  <script src="./admin-products.js"></script>
</body>
</html>
